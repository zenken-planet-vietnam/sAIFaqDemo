{"remainingRequest":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/components/questions/SearchForm.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/components/questions/SearchForm.vue","mtime":1641893387079},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/css-loader/dist/cjs.js","mtime":1638342838556},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638342838967},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/postcss-loader/src/index.js","mtime":1638342838955},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/sass-loader/dist/cjs.js","mtime":1638353649972},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/cache-loader/dist/cjs.js","mtime":1638341829149},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/index.js","mtime":1638342838967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2VhcmNoLWZvcm0gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAuc2VhcmNoLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsKICAgIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07CiAgICAuc2VhcmNoIHsKICAgICAgZmxleDogMTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07CiAgICAgIC5zZWFyY2gtaW5wdXQgewogICAgICAgIGJvcmRlcjogMHB4OwogICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsKICAgICAgfQogICAgfQogICAgLnNlYXJjaC1idXR0b24gewogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGJhY2tncm91bmQ6ICMwMDYyY2M7CiAgICAgIGZsZXg6IDAgMCBhdXRvOwogICAgICBoZWlnaHQ6IDM4cHg7CiAgICAgIHdpZHRoOiA0MHB4OwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGJvcmRlci1yYWRpdXM6IDByZW0gMC4yNXJlbSAwLjI1cmVtIDByZW07CiAgICAgICY6aG92ZXIgewogICAgICAgIGJhY2tncm91bmQ6ICMwMDY5ZDk7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["SearchForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchForm.vue","sourceRoot":"src/components/questions","sourcesContent":["<template lang=\"\">\n    <div class=\"search-form\">\n       <div class=\"search-container\">\n          <div class=\"search\">\n          <div v-if=\"selectedTags.length>0\" class=\"search-tags\">\n           <tag :tags=\"selectedTags\" :isSelectedTag=\"true\" />\n          </div>\n          <!-- <b-form-input v-model='text' @keyup.enter=\"submit\"  @keyup.delete=\"onDeleteText\" ref=\"input\" @input=\"onTextChange\" class=\"search-input\" @focus=\"onInputFocus\"  placeholder=\"What is your question?\"/> -->\n          <auto-complete-input v-model='text' @enter=\"submit\"  @delete=\"onDeleteText\" ref=\"input\" @input=\"onTextChange\" class=\"search-input\" @focus=\"onInputFocus\"  placeholder=\"What is your question?\"/>\n        </div>\n         <div v-if=\"config.SEARCH_BUTTON\" @click=\"submit\" class=\"search-button\"> \n            <feather-icon icon=\"SearchIcon\"></feather-icon>\n          </div>\n       </div>\n        <search-result ref=\"result\" v-if=\"searchProcess\"/>\n    </div>\n</template>\n<script>\nimport { BFormInput } from \"bootstrap-vue\";\nimport SearchResult from \"./SearchResult.vue\";\nimport PageMixin from \"@/@core/mixins/searchDataMixin\";\nimport Tag from \"./Tag.vue\";\nimport AutoCompleteInput from \"./AutoCompleteInput.vue\";\nimport { PageModule } from \"@/store/modules/page\";\nimport { Component } from \"vue-property-decorator\";\nimport { mixins } from \"vue-class-component\";\n@Component({\n  components: {\n    BFormInput,\n    SearchResult,\n    Tag,\n    AutoCompleteInput,\n  },\n  destroyed() {\n    PageModule.updateProcess(false);\n  },\n})\nexport default class SearchForm extends mixins(PageMixin) {\n  text = \"\";\n  get selectedTags() {\n    return this.tags.filter((x) => x.isSelected == true);\n  }\n\n  onInputFocus(event) {\n    if (!this.config.SEARCH_BUTTON) {\n      PageModule.updateProcess(event.isTrusted);\n      if (!this.config.SEARCH_BUTTON) {\n        let rect = this.$refs.input.$el.getBoundingClientRect();\n        // eslint-disable-next-line no-unused-vars\n        let maxHeight = document.body.clientHeight - rect.y;\n        this.$nextTick(() => {\n          this.$refs.result.$el.style.maxHeight =\n            maxHeight - rect.height - 10 + \"px\";\n        });\n      }\n    }\n  }\n  // filter question\n  onTextChange() {\n    if (!this.config.SEARCH_BUTTON) this.submit();\n  }\n  async submit() {\n    let text = this.text.toLowerCase().trim();\n    PageModule.updateProcess(true);\n    let result = await PageModule.filterQuestions(text);\n    // call analytics api\n    if (window.sa && text.length > 0) {\n      let data = {\n        event_name: \"question_query\",\n        value: {\n          query: text,\n          result: result.length,\n        },\n      };\n      window.sa.send(data);\n    }\n  }\n  onDeleteText(event) {\n    if (event.target.value.length === 0) {\n      let selectedTags = this.tags.filter((x) => x.isSelected).reverse();\n      let lastSelectedTag = selectedTags.find((x) => x.isSelected);\n      if (lastSelectedTag) {\n        PageModule.updateTagFilter({\n          text: lastSelectedTag.text,\n          isSelected: false,\n        });\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.search-form {\n  position: relative;\n  .search-container {\n    display: flex;\n    border: 1px solid #ced4da;\n    border-radius: 0.25rem;\n    .search {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      background: white;\n      border-radius: 0.25rem;\n      .search-input {\n        border: 0px;\n        box-shadow: none !important;\n      }\n    }\n    .search-button {\n      cursor: pointer;\n      background: #0062cc;\n      flex: 0 0 auto;\n      height: 38px;\n      width: 40px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      color: #fff;\n      border-radius: 0rem 0.25rem 0.25rem 0rem;\n      &:hover {\n        background: #0069d9;\n      }\n    }\n  }\n}\n</style>"]}]}