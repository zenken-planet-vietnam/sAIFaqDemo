{"remainingRequest":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/views/pages/Analytic.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/views/pages/Analytic.vue","mtime":1641891557488},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/css-loader/dist/cjs.js","mtime":1638342838556},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1638342838967},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/postcss-loader/src/index.js","mtime":1638342838955},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/sass-loader/dist/cjs.js","mtime":1638353649972},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/cache-loader/dist/cjs.js","mtime":1638341829149},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/vue-loader/lib/index.js","mtime":1638342838967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYW5hbHl0aWMgewogIC50aXRsZSB7CiAgICBmb250LXNpemU6IDIxcHg7CiAgICBmb250LXdlaWdodDogNjAwOwogIH0KICAudGFibGUtY2FyZCB7CiAgICBiYWNrZ3JvdW5kOiAjZmFmYmZkOwogICAgcGFkZGluZzogMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICAgIGhlaWdodDogMTAwJTsKICAgIC50YWJsZS1jb250ZW50IHsKICAgICAgbWF4LWhlaWdodDogMjUwcHg7CiAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgfQogIH0KfQo="},{"version":3,"sources":["Analytic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Analytic.vue","sourceRoot":"src/views/pages","sourcesContent":["<template lang=\"\">\n    <div v-if=\"overviewData\" class=\"analytic card\">\n        <div class=\"title\">\n            {{'Statictics'}}\n        </div>\n        <b-row class=\"mt-2\">\n            <b-col md=\"4\">\n                <span class=\"font-weight-500\">\n                   {{productName}}\n                </span>\n            </b-col>\n            <b-col class=\"filter\" md=\"8\">\n                <page-filter @submit=\"submitFilter\" :filter=\"filter\"/>\n            </b-col>\n        </b-row>\n       <b-row class=\"mt-3 total-overview\">\n           <b-col md=\"4\">\n               <overview-item v-for=\"item,index in overviewItems\" :key=\"index\" :item=\"item\" />\n           </b-col>\n           <b-col md=\"8\">\n                <line-chart :data=\"lineChartOption\"/>\n           </b-col>\n       </b-row>\n       <b-row class=\"mt-3\">\n            <b-col md=\"6\">\n                <top-queries class=\"table-card\" :items=\"overviewData.query.top_queries\"/>\n            </b-col>\n            <b-col  md=\"6\">\n               <top-queries-no-result class=\"table-card\" :items=\"overviewData.query.top_no_result_queries\"/>\n            </b-col>\n       </b-row>\n       <b-row class=\"mt-3\">\n          <b-col  md=\"6\">\n                <top-question-click class=\"table-card\" :items=\"overviewData.click.question_click?overviewData.click.question_click.top_clicks:[]\"/>\n          </b-col>\n          <b-col  md=\"6\">\n                <recent-queries class=\"table-card\" :items=\"overviewData.query.recent_queries\"/> \n          </b-col>\n       </b-row>\n    </div>\n</template>\n<script lang=\"ts\">\nimport { BRow, BCol } from \"bootstrap-vue\";\nimport {\n  LineChart,\n  Filter,\n  OverviewItem,\n  TopQueries,\n  TopQuestionClick,\n  RecentQueries,\n  TopQueriesNoResult,\n} from \"@/components/analytics\";\nimport AnalyticMixin from \"@/@core/mixins/analyticMixin\";\nimport { Component } from \"vue-property-decorator\";\nimport { mixins } from \"vue-class-component\";\nimport { AnalyticModule } from \"@/store/modules/analytic\";\n@Component({\n  components: {\n    BRow,\n    BCol,\n    OverviewItem,\n    LineChart,\n    TopQueries,\n    TopQuestionClick,\n    RecentQueries,\n    TopQueriesNoResult,\n    \"page-filter\": Filter,\n  },\n})\nexport default class Analytic extends mixins(AnalyticMixin) {\n  filter: any = {\n    start: null,\n    end: null,\n  };\n  start: any = null;\n  end: any = null;\n  timeOfDay = 24 * 60 * 60 * 1000;\n  productName = \" Product demo\";\n  //   get list overview data\n  get overviewItems() {\n    return !this.overviewData\n      ? []\n      : [\n          {\n            title: \"Total queries\",\n            value: this.overviewData.query.total_queries,\n            variant: \"light-success\",\n            icon: \"SearchIcon\",\n          },\n          {\n            title: \"Total queries with no result\",\n            value: this.overviewData.query.total_queries_no_results,\n            variant: \"light-danger\",\n            icon: \"BoxIcon\",\n          },\n          {\n            title: \"Total questions clicked\",\n            value: this.overviewData.click.question_click\n              ? this.overviewData.click.question_click.total_click\n              : 0,\n            variant: \"light-info\",\n            icon: \"TrendingUpIcon\",\n          },\n        ];\n  }\n  // get chart data\n  get lineChartOption() {\n    if (this.overviewData) {\n      let option = {\n        chartOptions: {\n          chart: {\n            id: \"overview-chart\",\n            toolbar: {\n              show: false,\n            },\n          },\n          xaxis: {\n            categories: this.getListDate(this.start, this.end),\n          },\n          stroke: {\n            show: true,\n            curve: \"smooth\",\n            lineCap: \"butt\",\n            width: 2,\n            dashArray: [0, 2, 0],\n          },\n          colors: [\"#28c76f\", \"#ea5455\", \"#00cfe8\"],\n        },\n        series: [\n          {\n            name: \"total queries\",\n            data: this.overviewData.query.queries_per_day,\n          },\n          {\n            name: \"total queries with no result\",\n            data: this.overviewData.query.queries_no_result_per_day,\n          },\n          {\n            name: \"total questions clicked\",\n            data: this.overviewData.click.question_click.click_per_day,\n          },\n        ],\n      };\n      return option;\n    }\n    return null;\n  }\n  // init\n  created() {\n    this.setDefaultIFilter();\n    this.getData();\n  }\n\n  //   set default start time,end time\n  public setDefaultIFilter() {\n    this.filter.end = new Date();\n    this.filter.start = new Date(\n      this.filter.end.getTime() - 6 * this.timeOfDay\n    );\n    this.start = this.filter.start;\n    this.end = this.filter.end;\n  }\n  // get list date from start to end date\n  getListDate(start: Date, end: Date) {\n    if (!(start instanceof Date)) start = new Date(start);\n    if (!(end instanceof Date)) end = new Date(end);\n    let items = [this.getDateFormatForChart(start)];\n    let newDate = new Date(start.getTime() + this.timeOfDay);\n    while (newDate < end) {\n      items.push(this.getDateFormatForChart(newDate));\n      newDate = new Date(newDate.getTime() + this.timeOfDay);\n    }\n    return items;\n  }\n  // get date format d/m\n  getDateFormatForChart(date: Date) {\n    return `${date.getMonth() + 1}/${date.getDate()}`;\n  }\n  formatDate(date: Date) {\n    if (!(date instanceof Date)) return date;\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n  }\n  // submit filter\n  submitFilter() {\n    this.start = new Date(this.filter.start);\n    this.end = new Date(this.filter.end);\n    this.getData();\n  }\n  getData() {\n    AnalyticModule.getOverviewData({\n      start_date: this.formatDate(this.start),\n      end_date: this.formatDate(this.end),\n    });\n  }\n}\n</script>\n<style lang=\"scss\">\n.analytic {\n  .title {\n    font-size: 21px;\n    font-weight: 600;\n  }\n  .table-card {\n    background: #fafbfd;\n    padding: 1rem;\n    border-radius: 0.5rem;\n    height: 100%;\n    .table-content {\n      max-height: 250px;\n      overflow: auto;\n    }\n  }\n}\n</style>"]}]}