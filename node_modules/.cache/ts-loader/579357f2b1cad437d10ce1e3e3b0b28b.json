{"remainingRequest":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/thread-loader/dist/cjs.js!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/babel-loader/lib/index.js!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/ts-loader/index.js??ref--15-3!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/eslint-loader/index.js??ref--14-0!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/@core/auth/jwtService.ts","dependencies":[{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/@core/auth/jwtService.ts","mtime":1641888778596},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/babel.config.js","mtime":1641544761991},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/cache-loader/dist/cjs.js","mtime":1638341829149},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/thread-loader/dist/cjs.js","mtime":1638341830219},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/babel-loader/lib/index.js","mtime":1638342835865},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/ts-loader/index.js","mtime":1638341829162},{"path":"/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/eslint-loader/index.js","mtime":1638342837904}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3RoYWluZ3V5ZW50YW4vRG9jdW1lbnRzL1pFTktFTi1QTEFORVQvc0FJRmFxRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3RoYWluZ3V5ZW50YW4vRG9jdW1lbnRzL1pFTktFTi1QTEFORVQvc0FJRmFxRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy90aGFpbmd1eWVudGFuL0RvY3VtZW50cy9aRU5LRU4tUExBTkVUL3NBSUZhcURlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBqd3REZWZhdWx0Q29uZmlnIGZyb20gJy4vand0RGVmYXVsdENvbmZpZyc7Cgp2YXIgSnd0U2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gSnd0U2VydmljZShheGlvc0lucywgand0T3ZlcnJpZGVDb25maWcpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEp3dFNlcnZpY2UpOwoKICAgIC8vIFdpbGwgYmUgdXNlZCBieSB0aGlzIHNlcnZpY2UgZm9yIG1ha2luZyBBUEkgY2FsbHMKICAgIHRoaXMuYXhpb3NJbnMgPSBudWxsOyAvLyBqd3RDb25maWcgPD0gV2lsbCBiZSB1c2VkIGJ5IHRoaXMgc2VydmljZQoKICAgIHRoaXMuand0Q29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgand0RGVmYXVsdENvbmZpZyk7IC8vIEZvciBSZWZyZXNoaW5nIFRva2VuCgogICAgdGhpcy5pc0FscmVhZHlGZXRjaGluZ0FjY2Vzc1Rva2VuID0gZmFsc2U7IC8vIEZvciBSZWZyZXNoaW5nIFRva2VuCgogICAgdGhpcy5zdWJzY3JpYmVycyA9IFtdOwogICAgdGhpcy5heGlvc0lucyA9IGF4aW9zSW5zOwogICAgdGhpcy5qd3RDb25maWcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuand0Q29uZmlnKSwgand0T3ZlcnJpZGVDb25maWcpOyAvLyBSZXF1ZXN0IEludGVyY2VwdG9yCgogICAgdGhpcy5heGlvc0lucy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAvLyBHZXQgdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2UKICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gX3RoaXMuZ2V0VG9rZW4oKTsgLy8gSWYgdG9rZW4gaXMgcHJlc2VudCBhZGQgaXQgdG8gcmVxdWVzdCdzIEF1dGhvcml6YXRpb24gSGVhZGVyCgoKICAgICAgaWYgKGFjY2Vzc1Rva2VuICYmIGNvbmZpZy51cmwgIT09IF90aGlzLmp3dENvbmZpZy5yZWZyZXNoRW5kcG9pbnQgJiYgY29uZmlnLnVybCAhPSBfdGhpcy5qd3RDb25maWcubG9naW5FbmRwb2ludCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiIi5jb25jYXQoX3RoaXMuand0Q29uZmlnLnRva2VuVHlwZSwgIiAiKS5jb25jYXQoYWNjZXNzVG9rZW4pOwogICAgICB9CgogICAgICByZXR1cm4gY29uZmlnOwogICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9KTsgLy8gQWRkIHJlcXVlc3QvcmVzcG9uc2UgaW50ZXJjZXB0b3IKCiAgICB0aGlzLmF4aW9zSW5zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSwKICAgICAgICAgIGNvbmZpZyA9IGVycm9yLmNvbmZpZzsKICAgICAgdmFyIG9yaWdpbmFsUmVxdWVzdCA9IGNvbmZpZzsgLy8gaWYgKHN0YXR1cyA9PT0gNDAxKSB7CgogICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICBpZiAoIV90aGlzLmlzQWxyZWFkeUZldGNoaW5nQWNjZXNzVG9rZW4pIHsKICAgICAgICAgIF90aGlzLmlzQWxyZWFkeUZldGNoaW5nQWNjZXNzVG9rZW4gPSB0cnVlOwoKICAgICAgICAgIF90aGlzLnJlZnJlc2hUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgX3RoaXMuaXNBbHJlYWR5RmV0Y2hpbmdBY2Nlc3NUb2tlbiA9IGZhbHNlOwogICAgICAgICAgICB2YXIgZGF0YSA9IHIuZGF0YTsgLy8gVXBkYXRlIGFjY2Vzc1Rva2VuIGluIGxvY2FsU3RvcmFnZQoKICAgICAgICAgICAgX3RoaXMuc2V0VG9rZW4oZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7IC8vIHRoaXMuc2V0UmVmcmVzaFRva2VuKHIuZGF0YS5yZWZyZXNoVG9rZW4pCgoKICAgICAgICAgICAgX3RoaXMub25BY2Nlc3NUb2tlbkZldGNoZWQoZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHZhciByZXRyeU9yaWdpbmFsUmVxdWVzdCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICBfdGhpcy5hZGRTdWJzY3JpYmVyKGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikgewogICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gIiIuY29uY2F0KF90aGlzLmp3dENvbmZpZy50b2tlblR5cGUsICIgIikuY29uY2F0KGFjY2Vzc1Rva2VuKTsKICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5heGlvc0lucyhvcmlnaW5hbFJlcXVlc3QpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXRyeU9yaWdpbmFsUmVxdWVzdDsKICAgICAgfQoKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEp3dFNlcnZpY2UsIFt7CiAgICBrZXk6ICJvbkFjY2Vzc1Rva2VuRmV0Y2hlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2Nlc3NUb2tlbkZldGNoZWQoYWNjZXNzVG9rZW4pIHsKICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IHRoaXMuc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHJldHVybiBjYWxsYmFjayhhY2Nlc3NUb2tlbik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFN1YnNjcmliZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN1YnNjcmliZXIoY2FsbGJhY2spIHsKICAgICAgdGhpcy5zdWJzY3JpYmVycy5wdXNoKGNhbGxiYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmp3dENvbmZpZy5zdG9yYWdlVG9rZW5LZXlOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSZWZyZXNoVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlZnJlc2hUb2tlbigpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuand0Q29uZmlnLnN0b3JhZ2VSZWZyZXNoVG9rZW5LZXlOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoZWFsdGhjaGVjayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGVhbHRoY2hlY2soKSB7CiAgICAgIHJldHVybiB0aGlzLmF4aW9zSW5zLmdldCgiL2hlYWx0aGNoZWNrLyIpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFRva2VuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUb2tlbih2YWx1ZSkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmp3dENvbmZpZy5zdG9yYWdlVG9rZW5LZXlOYW1lLCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UmVmcmVzaFRva2VuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSZWZyZXNoVG9rZW4odmFsdWUpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5qd3RDb25maWcuc3RvcmFnZVJlZnJlc2hUb2tlbktleU5hbWUsIHZhbHVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyRheGlvc0luczsKCiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIHJldHVybiAoX3RoaXMkYXhpb3NJbnMgPSB0aGlzLmF4aW9zSW5zKS5wb3N0LmFwcGx5KF90aGlzJGF4aW9zSW5zLCBbdGhpcy5qd3RDb25maWcubG9naW5FbmRwb2ludF0uY29uY2F0KGFyZ3MpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbigpIHsKICAgICAgcmV0dXJuIHRoaXMuYXhpb3NJbnMucG9zdCh0aGlzLmp3dENvbmZpZy5yZWZyZXNoRW5kcG9pbnQsIHsKICAgICAgICByZWZyZXNoX3Rva2VuOiB0aGlzLmdldFJlZnJlc2hUb2tlbigpCiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEp3dFNlcnZpY2U7Cn0oKTsKCmV4cG9ydCB7IEp3dFNlcnZpY2UgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/node_modules/eslint-loader/index.js??ref--14-0!/Users/thainguyentan/Documents/ZENKEN-PLANET/sAIFaqDemo/src/@core/auth/jwtService.ts"],"names":[],"mappings":"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","sourcesContent":["import jwtDefaultConfig from './jwtDefaultConfig'\n\nexport default class JwtService {\n  // Will be used by this service for making API calls\n  axiosIns: any = null\n\n  // jwtConfig <= Will be used by this service\n  jwtConfig = { ...jwtDefaultConfig }\n\n  // For Refreshing Token\n  isAlreadyFetchingAccessToken = false\n\n  // For Refreshing Token\n  subscribers: any = []\n\n  constructor(axiosIns: any, jwtOverrideConfig: any) {\n    this.axiosIns = axiosIns\n    this.jwtConfig = { ...this.jwtConfig, ...jwtOverrideConfig }\n\n    // Request Interceptor\n    this.axiosIns.interceptors.request.use(\n      (config: any) => {\n        // Get token from localStorage\n        const accessToken = this.getToken()\n        // If token is present add it to request's Authorization Header\n        if (accessToken && config.url !== this.jwtConfig.refreshEndpoint && config.url != this.jwtConfig.loginEndpoint) {\n          // eslint-disable-next-line no-param-reassign\n          config.headers.Authorization = `${this.jwtConfig.tokenType} ${accessToken}`\n        }\n        return config\n      },\n      (error: any) => Promise.reject(error),\n    )\n\n    // Add request/response interceptor\n    this.axiosIns.interceptors.response.use(\n      (response: any) => response,\n      (error: any) => {\n        const { response, config } = error\n        const originalRequest = config\n        // if (status === 401) {\n        if (response && response.status === 401) {\n          if (!this.isAlreadyFetchingAccessToken) {\n            this.isAlreadyFetchingAccessToken = true\n            this.refreshToken().then((r: any) => {\n              this.isAlreadyFetchingAccessToken = false\n              const { data } = r\n              // Update accessToken in localStorage\n              this.setToken(data.data.access_token)\n              // this.setRefreshToken(r.data.refreshToken)\n              this.onAccessTokenFetched(data.data.access_token)\n            })\n          }\n          const retryOriginalRequest = new Promise(resolve => {\n            this.addSubscriber((accessToken: any) => {\n              originalRequest.headers.Authorization = `${this.jwtConfig.tokenType} ${accessToken}`\n              resolve(this.axiosIns(originalRequest))\n            })\n          })\n          return retryOriginalRequest\n        }\n        return Promise.reject(error)\n      },\n    )\n  }\n\n  onAccessTokenFetched(accessToken: any) {\n    this.subscribers = this.subscribers.filter((callback: any) => callback(accessToken))\n  }\n\n  addSubscriber(callback: any) {\n    this.subscribers.push(callback)\n  }\n\n\n  getToken() {\n    return localStorage.getItem(this.jwtConfig.storageTokenKeyName)\n  }\n\n  getRefreshToken() {\n    return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)\n  }\n\n  healthcheck() {\n    return this.axiosIns.get(\"/healthcheck/\")\n  }\n\n\n  setToken(value: any) {\n    localStorage.setItem(this.jwtConfig.storageTokenKeyName, value)\n  }\n\n  setRefreshToken(value: any) {\n    localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName, value)\n  }\n\n  login(...args: any) {\n    return this.axiosIns.post(this.jwtConfig.loginEndpoint, ...args)\n  }\n  refreshToken() {\n    return this.axiosIns.post(this.jwtConfig.refreshEndpoint, {\n      refresh_token: this.getRefreshToken(),\n    })\n  }\n\n}\n"],"sourceRoot":""}]}